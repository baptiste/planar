<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> • planar</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">planar</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/plasmonics/planar">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1></h1>
            
          </div>

    
    
<div class="contents">
<div id="reflectivity-of-a-bragg-stack-with-varying-number-of-layers" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#reflectivity-of-a-bragg-stack-with-varying-number-of-layers" class="anchor"> </a></body></html>Reflectivity of a Bragg stack with varying number of layers</h2>
<p><em>baptiste Auguié – 23 February, 2017</em></p>
<p>Reproducing Fig. 6.6, p. 188 of Mac Leod’s Thin Film Optical Filters. The structure is a stack of <span class="math inline">\(\lambda/4\)</span> layers of alternating indices <span class="math inline">\(n_H\)</span> (high) and <span class="math inline">\(n_L\)</span> (low) on a glass substrate.</p>
<pre><code>## Want to understand how all the pieces fit together? Buy the
## ggplot2 book: http://ggplot2.org/book/</code></pre>
<div id="setting-up" class="section level4">
<h4 class="hasAnchor">
<html><body><a href="#setting-up" class="anchor"> </a></body></html>Setting up</h4>
<p>We first define a function that generates the structure (list) describing the multilayer stack, and pass it to the function that calculates the optical response.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(planar)

make_stack &lt;-<span class="st"> </span>function(<span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">wavelength=</span><span class="kw">seq</span>(<span class="dv">300</span>, <span class="dv">700</span>),
                      <span class="dt">lambda0 =</span> <span class="dv">500</span>, <span class="dt">thickness =</span> lambda0/<span class="dv">4</span>, 
                      <span class="dt">nH=</span><span class="fl">2.3</span>, <span class="dt">nL=</span><span class="fl">1.38</span>, <span class="dt">nS=</span><span class="fl">1.52</span>,
                      <span class="dt">angle=</span><span class="dv">0</span>){

  epsilon.list &lt;-<span class="st"> </span><span class="kw">as.list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="kw">rep</span>(<span class="kw">c</span>(nL, nH)^<span class="dv">2</span>, n), nS))
  thickness.list &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rep</span>(thickness/<span class="kw">c</span>(nL, nH), n), <span class="dv">0</span>)
  
  res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/recursive_fresnelcpp.html">recursive_fresnelcpp</a></span>(<span class="dt">wavelength=</span>wavelength, <span class="dt">angle=</span>angle,
                       <span class="dt">epsilon=</span>epsilon.list, <span class="dt">thickness=</span>thickness.list,
                       <span class="dt">polarisation=</span><span class="st">'p'</span>)
<span class="kw">data.frame</span>(res[<span class="kw">c</span>(<span class="st">"wavelength"</span>,<span class="st">"k0"</span>, <span class="st">"R"</span>)])
}</code></pre></div>
<p>With this function, we can simulate the optical response for a number of parameters using the convenient syntax of the plyr package (equivalent to for loops over sets of parameters). Here we compare stacks with increasing number of layers, and various incident angles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(plyr)

params &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">n=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>), <span class="dt">angle=</span><span class="kw">seq</span>(<span class="dv">0</span>,pi/<span class="dv">3</span>, <span class="dt">by=</span>pi/<span class="dv">6</span>))
all &lt;-<span class="st"> </span><span class="kw">mdply</span>(params, make_stack)
all$angle.d &lt;-<span class="st"> </span><span class="dv">180</span>/pi*all$angle

<span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(all)+<span class="st"> </span><span class="kw">facet_grid</span>(angle.d ~<span class="st"> </span>.)+
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dv">2</span>*pi/k0, R, <span class="dt">colour=</span><span class="kw">factor</span>(n))) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">colour=</span><span class="st">"layers"</span>) +
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="st">"wavelength /nm"</span>)+
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="st">"Reflectivity"</span>, <span class="dt">expand=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">lim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</code></pre></div>
<p><img src="braggstack/simulation-1.png" width="672"></p>
<p>With increasing number of layers, the reflectivity stop-band becomes stronger, with a more rectangular transfer function. Side-bands also develop accordingly, however, with higher and higher frequency. The position of the stopband shifts with incident angle, as the projection of the k-vector determines the resonance condition.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#reflectivity-of-a-bragg-stack-with-varying-number-of-layers">Reflectivity of a Bragg stack with varying number of layers</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Baptiste Auguie, Steven Johnson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
